class Solution:
    def numTrees(self, n: int) -> int:
        # G[i] will store the number of unique BSTs with i nodes
        G = [0] * (n + 1)
        
        # Base cases
        G[0] = 1 # Empty tree (1 way to be empty)
        G[1] = 1 # Single node tree (1 structure)
        
        # Fill the DP table from 2 nodes up to n nodes
        for nodes in range(2, n + 1):
            # Try each i as the root for a tree with 'nodes' total nodes
            for i in range(1, nodes + 1):
                # Left subtree has (i-1) nodes, Right subtree has (nodes-i) nodes
                # The total unique trees for root i is G[left] * G[right]
                G[nodes] += G[i - 1] * G[nodes - i]
                
        return G[n]
